# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ4. –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ç—å—é

## 1. –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–¶–µ–ª—å—é –Ω–∞—Å—Ç–æ—è—â–µ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã —è–≤–ª—è–µ—Ç—Å—è –æ—Å–≤–æ–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç–µ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –í —Ö–æ–¥–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç—ã:

- –∏–∑—É—á–∞—Ç –æ—Å–Ω–æ–≤—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞–∫–µ—Ç–∞ `http` –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫;
- —Ä–µ–∞–ª–∏–∑—É—é—Ç –¥–æ—Å—Ç—É–ø –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–º—É API –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ–ª—É—á–∞–µ–º—ã—Ö JSON-–¥–∞–Ω–Ω—ã—Ö;
- –∑–∞–º–µ–Ω—è—Ç —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–µ—Å—è –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–º. –≥–ª–æ—Å—Å–∞—Ä–∏–π) –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –∏–∑ —Å–µ—Ç–∏;
- –ø–æ–ª—É—á–∞—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞;
- —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ UI –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è: loading, success, error (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

–í —Ä–∞–º–∫–∞—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã—Ö —Ä–∞–±–æ—Ç –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –º–æ–∫–∏, —á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–ø–∏—Å–∫–∏ –≤–∞–ª—é—Ç –∏ –Ω–æ–≤–æ—Å—Ç–µ–π. –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ `Data` –∏ `Domain` —Å–ª–æ–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –º–æ–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã ‚Äî –∏—Ö –º–µ—Å—Ç–æ –∑–∞–π–º—É—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.

> üîÅ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ç–µ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ —Å —É—á—ë—Ç–æ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ –æ—à–∏–±–∫–∞–º —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

## 2. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–í —Ä–∞–º–∫–∞—Ö –¥–∞–Ω–Ω–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –æ–±—É—á–∞—é—â–∏–º—Å—è –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –≤–Ω–µ–¥—Ä–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ —Å–ª–æ—ë–≤ `data`, `domain` –∏ `app`.

–†–∞–Ω–µ–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Å–ª–æ–π `app`. –í —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –¥–∞–Ω–Ω—ã–µ –±—ã–ª–∏ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–ª–æ–∏ –∏ –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–∞–µ–º—ã–µ –∏–∑ —Å–µ—Ç–∏:

- –°–ª–æ–π `domain` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π (`CurrencyModel`, `NewsModel`) –∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤ –≤–∏–¥–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.
- –°–ª–æ–π `data` —Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏: –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é REST-–∫–ª–∏–µ–Ω—Ç–∞, –æ–ø–∏—Å–∞–Ω–∏–µ –ø—É—Ç–µ–π, DTO-–º–æ–¥–µ–ª–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞  JSON –∏ RSS, –º–∞–ø–ø–µ—Ä—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–º –∫–ª–∞—Å—Å—ã-–∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

> –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—è—Å–Ω–µ–Ω–∏–π –ø–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º —Ç–µ—Ä–º–∏–Ω–∞–º, —Ç–∞–∫–∏–º –∫–∞–∫ REST-–∫–ª–∏–µ–Ω—Ç, DTO-–º–æ–¥–µ–ª–∏, RSS –∏ –º–∞–ø–ø–µ—Ä—ã, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ñ–∞–π–ª—É **–ì–ª–æ—Å—Å–∞—Ä–∏—è**

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- `domain/datasource/` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `RestDatasource`, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö;
- `domain/repository/` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (`CurrencyRepository`, `NewsRepository`);
- `domain/model/` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —á–∏—Å—Ç—ã–µ –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏;

- `data/datasource_impl/rest_datasource_impl/` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è REST-–¥–æ—Å—Ç—É–ø–∞, –≤–∫–ª—é—á–∞—è:
  - `app_http_client.dart` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ `http.Client`;
  - `rest_path.dart` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø—É—Ç–µ–π –∫ —É–¥–∞–ª—ë–Ω–Ω—ã–º REST —Ä–µ—Å—É—Ä—Å–∞–º;
  - `rest_datasource_impl.dart` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `RestDatasource`;
  - `model/` ‚Äî –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ JSON-–æ—Ç–≤–µ—Ç–∞–º;
  - `mapper/` ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–µ—Ç–µ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –≤ –¥–æ–º–µ–Ω–Ω—ã–µ;

- `data/repository_impl/` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ `CurrencyRepositoryImpl`, `NewsRepositoryImpl`, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö `RestDatasourceImpl` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö;

## 3. –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å

### –û–±—ä—è–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª `pubspec.yaml`:

```yaml
dependencies:
  http: 1.4.0
  rss_dart: 1.0.13
  json_annotation: 4.9.0

  intl: 0.20.2

dev_dependencies:
  build_runner: 2.4.15
  json_serializable: 6.9.5
```

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `http` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤, `rss_dart` ‚Äî –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ RSS-–ª–µ–Ω—Ç, `json_annotation` –∏ `json_serializable` ‚Äî –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON, –∞ `intl` ‚Äî –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç –∏ —á–∏—Å–µ–ª. `build_runner` –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ—è `domain`

–°–ª–æ–π `domain` –æ–ø–∏—Å—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö. –í –¥–∞–Ω–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

#### –ú–æ–¥–µ–ª–∏

–û–ø—Ä–µ–¥–µ–ª–∏–º –±–∞–∑–æ–≤—ã–µ –º–æ–¥–µ–ª–∏, –æ—Ç—Ä–∞–∂–∞—é—â–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: –≤–∞–ª—é—Ç—É –∏ –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —ç–ª–µ–º–µ–Ω—Ç. –≠—Ç–∏ –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Å–ª–æ—è—Ö, –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –º–µ—Ç–æ–¥–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã:

- `lib/domain/model/currency_model.dart`

```dart
class CurrencyModel {
  const CurrencyModel({
    required this.id,
    required this.nominal,
    required this.name,
    required this.symbol,
    required this.value,
    required this.previousValue,
  });

  final String id;
  final int nominal;
  final String name;
  final String symbol;
  final double value;
  final double previousValue;
}
```

- `lib/domain/model/news_model.dart`

```dart
class NewsModel {
  const NewsModel({
    required this.title,
    required this.link,
    this.date,
  });

  final String title;
  final String link;
  final DateTime? date;
}
```

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `data` —Å–ª–æ–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –¥–µ—Ç–∞–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≥–∏–±–∫–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª:

- `lib/domain/datasource/rest_datasource.dart`

```dart
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';
import 'package:mad_flutter_practicum/domain/model/news_model.dart';

abstract interface class RestDatasource {
  Future<List<CurrencyModel>> getCurrencyList();

  Future<List<NewsModel>> getNewsList();
}
```

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç –ª–æ–≥–∏–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–ª–æ—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –≤ `domain` —Å–ª–æ–µ –∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –≤ `data`.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã:

- `lib/domain/repository/currency_repository.dart`

```dart
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';

abstract interface class CurrencyRepository {
  Future<List<CurrencyModel>> getCurrencyList();
}
```

- `lib/domain/repository/news_repository.dart`

```dart
import 'package:mad_flutter_practicum/domain/model/news_model.dart';

abstract interface class NewsRepository {
  Future<List<NewsModel>> getNewsList();
}
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ—è `data`

–°–ª–æ–π `data` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º –∏–∑ —Å–ª–æ—è `domain`. –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ API, –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ DTO-–º–æ–¥–µ–ª–µ–π –≤ –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏.

#### HTTP-–∫–ª–∏–µ–Ω—Ç

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `lib/data/datasource_impl/rest_datasource_impl/app_http_client.dart`, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª–∏–º –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤. –≠—Ç–æ—Ç –∫–ª–∏–µ–Ω—Ç –±—É–¥–µ—Ç –æ–±—ë—Ä—Ç–∫–æ–π –Ω–∞–¥ –ø–∞–∫–µ—Ç–æ–º `http` –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç –µ–¥–∏–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–π–º–∞—É—Ç—ã, –∑–∞–≥–æ–ª–æ–≤–∫–∏).

```dart
import 'dart:convert';

import 'package:http/http.dart' as http;

class AppHttpClient {
  final http.Client _client = http.Client();

  Future<String?> getDecodedResponse(String url) async {
    final http.Response response = await _client.get(Uri.parse(url));

    return response.statusCode == 200 ? utf8.decode(response.bodyBytes) : null;
  }

  void dispose() => _client.close();
}
```

#### –ü—É—Ç–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã API

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª—ã `rest_path.dart` (–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—É—Ç–µ–π –∫ REST-—ç–Ω–¥–ø–æ–ª–∏—Ç–∞–º) –∏ `constants.dart` (–¥–ª—è –±–∞–∑–æ–≤—ã—Ö URL –∏ –¥—Ä—É–≥–∏—Ö –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–Ω–∞—á–µ–Ω–∏–π) –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `lib/data/datasource_impl/rest_datasource_impl/`.

```dart
abstract class RestPath {
  static const String dailyExchangeRateUrl = 'https://www.cbr-xml-daily.ru/daily_json.js';
  static const String newsUrl = 'http://www.cbr.ru/rss/RssNews';
}
```

```dart
abstract class RestConstants {
  static const String newsDateTimeFormat = 'EEE, dd MMM yyyy HH:mm:ss Z';
}
```

#### DTO-–º–æ–¥–µ–ª–∏

–°–æ–∑–¥–∞–¥–∏–º DTO-–∫–ª–∞—Å—Å—ã (Data Transfer Objects) –¥–ª—è –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JSON-–æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç API. –†–∞–∑–º–µ—Å—Ç–∏–º –∏—Ö –≤ –ø–∞–ø–∫–µ `lib/data/datasource_impl/rest_datasource_impl/model`.

–°–æ–∑–¥–∞–π—Ç–µ `currency_dto.dart` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ –¥–ª—è JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

```dart
import 'package:json_annotation/json_annotation.dart';
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';

part 'currency_dto.g.dart';

@JsonSerializable(createToJson: false)
class CurrencyDto {
  const CurrencyDto({
    required this.id,
    required this.nominal,
    required this.name,
    required this.symbol,
    required this.value,
    required this.previousValue,
  });

  factory CurrencyDto.fromJson(Map<String, dynamic> json) => _$CurrencyDtoFromJson(json);

  @JsonKey(name: 'ID', defaultValue: '')
  final String id;

  @JsonKey(name: 'Nominal', defaultValue: 0)
  final int nominal;

  @JsonKey(name: 'Name', defaultValue: '')
  final String name;

  @JsonKey(name: 'CharCode', defaultValue: '')
  final String symbol;

  @JsonKey(name: 'Value', defaultValue: 0)
  final double value;

  @JsonKey(name: 'Previous', defaultValue: 0)
  final double previousValue;
}

@JsonSerializable(createToJson: false)
class CurrencyListResponseDto {
  const CurrencyListResponseDto({required this.valute});

  factory CurrencyListResponseDto.fromJson(Map<String, dynamic> json) => _$CurrencyListResponseDtoFromJson(json);

  @JsonKey(name: 'Valute', defaultValue: <String, CurrencyDto>{})
  final Map<String, CurrencyDto> valute;
}
```

–í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ `currency_dto.dart` —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–∏–≤–∞:

```dart
part 'currency_dto.g.dart';
```

–§–∞–π–ª `currency_dto.g.dart` —Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π `@JsonSerializable()` –≤ DTO-–∫–ª–∞—Å—Å–∞—Ö. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (`fromJson()` –∏ `toJson()`), –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç JSON –∏ –æ–±—Ä–∞—Ç–Ω–æ.

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ DTO-–º–æ–¥–µ–ª—è—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:

```bash
flutter pub run build_runner build
```

–ë–µ–∑ —ç—Ç–æ–≥–æ —à–∞–≥–∞ –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, —Ç–∞–∫ –∫–∞–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —á–∞—Å—Ç–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

#### –ú–∞–ø–ø–µ—Ä—ã

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `lib/data/datasource_impl/rest_datasource_impl/mapper` —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª—ã `news_mapper.dart` –∏ `currency_mapper.dart`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è DTO-–º–æ–¥–µ–ª–∏ –≤ –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Å–ª–æ–∏ –∏ –∏–∑–±–µ–∂–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–º–µ–Ω–∞ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤.

```dart
import 'package:intl/intl.dart';
import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/constants.dart';
import 'package:mad_flutter_practicum/domain/model/news_model.dart';
import 'package:rss_dart/domain/rss_item.dart';

extension NewsItemMapper on RssItem {
  NewsModel get asNewsModel {
    final String? pubDate = this.pubDate;

    return NewsModel(
      title: title ?? '',
      link: link ?? '',
      date: pubDate == null ? null : DateFormat(RestConstants.newsDateTimeFormat).parse(pubDate),
    );
  }
}
```

```dart
import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/model/currency_dto.dart';
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';

extension CurrencyDtoMapper on CurrencyDto {
  CurrencyModel get model => CurrencyModel(
        id: id,
        nominal: nominal,
        name: name,
        symbol: symbol,
        value: value,
        previousValue: previousValue,
      );
}
```

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `lib/data/datasource_impl/rest_datasource_impl` —Å–æ–∑–¥–∞–¥–∏–º –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª, –≥–¥–µ —Ä–µ–∞–ª–∏–∑—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `RestDatasource`, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –≤ domain. –ó–¥–µ—Å—å –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è HTTP-–∫–ª–∏–µ–Ω—Ç –∏ DTO-–º–æ–¥–µ–ª–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

```dart
import 'dart:convert';

import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/app_http_client.dart';
import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/mapper/currency_mapper.dart';
import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/mapper/news_mapper.dart';
import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/model/currency_dto.dart';
import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/rest_path.dart';
import 'package:mad_flutter_practicum/domain/datasource/rest_datasource.dart';
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';
import 'package:mad_flutter_practicum/domain/model/news_model.dart';
import 'package:rss_dart/dart_rss.dart';

class RestDatasourceImpl implements RestDatasource {
  late final AppHttpClient _httpClient = AppHttpClient();

  @override
  Future<List<CurrencyModel>> getCurrencyList() async {
    final String? response = await _httpClient.getDecodedResponse(RestPath.dailyExchangeRateUrl);
    if (response == null) return const <CurrencyModel>[];

    final Map<String, dynamic> json = jsonDecode(response);

    return CurrencyListResponseDto.fromJson(json).valute.values.map((e) => e.model).toList(growable: false);
  }

  @override
  Future<List<NewsModel>> getNewsList() async {
    final String? response = await _httpClient.getDecodedResponse(RestPath.newsUrl);
    if (response == null) return const <NewsModel>[];

    return RssFeed.parse(response).items.map((e) => e.asNewsModel).toList(growable: false);
  }
}
```

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏–≤

–í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `lib/data/repository_impl` —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª—ã `currency_repository_impl.dart` –∏ `news_repository_impl.dart`. –í —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö —Ä–µ–∞–ª–∏–∑—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, –ø–æ–¥–∫–ª—é—á–∏–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

```dart
import 'package:mad_flutter_practicum/domain/datasource/rest_datasource.dart';
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';
import 'package:mad_flutter_practicum/domain/repository/currency_repository.dart';

class CurrencyRepositoryImpl implements CurrencyRepository {
  const CurrencyRepositoryImpl(this._rest);

  final RestDatasource _rest;

  @override
  Future<List<CurrencyModel>> getCurrencyList() => _rest.getCurrencyList();
}
```

```dart
import 'package:mad_flutter_practicum/domain/datasource/rest_datasource.dart';
import 'package:mad_flutter_practicum/domain/model/news_model.dart';
import 'package:mad_flutter_practicum/domain/repository/news_repository.dart';

class NewsRepositoryImpl implements NewsRepository {
  const NewsRepositoryImpl(this._rest);

  final RestDatasource _rest;

  @override
  Future<List<NewsModel>> getNewsList() => _rest.getNewsList();
}
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ—è `app`

–°–ª–æ–π `app` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º—ã —É–¥–∞–ª–∏–º –º–æ–∫–∏ –∏ –ø–æ–¥–∫–ª—é—á–∏–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ª–æ—ë–≤ `data` –∏ `domain`.

#### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª `constants.dart` –≤ –∫–æ—Ä–Ω–µ —Å–ª–æ—è `app`. –í –Ω—ë–º –æ–ø—Ä–µ–¥–µ–ª–∏–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ñ–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –∏ –ª–æ–∫–∞–ª—å, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–æ –≤—Å—ë–º –ø—Ä–æ–µ–∫—Ç–µ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```dart
abstract class AppConstants {
  static const String newsDateTimeFormat = 'E HH:mm dd.MM.yy';

  static const String ruLocale = 'ru_RU';
}
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–û–±–Ω–æ–≤–∏–º —Ñ–∞–π–ª `main.dart.` –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–∫–∞–ª—å –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç, —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ –ø–µ—Ä–µ–¥–∞–¥–∏–º –∏—Ö —á–µ—Ä–µ–∑ `MultiProvider` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```dart
import 'package:flutter/material.dart';
import 'package:intl/date_symbol_data_local.dart';
import 'package:mad_flutter_practicum/app/constants.dart';
import 'package:mad_flutter_practicum/app/home.dart';
import 'package:mad_flutter_practicum/app/splash_page.dart';
import 'package:mad_flutter_practicum/data/datasource_impl/rest_datasource_impl/rest_datasource_impl.dart';
import 'package:mad_flutter_practicum/data/repository_impl/currency_repository_impl.dart';
import 'package:mad_flutter_practicum/data/repository_impl/news_repository_impl.dart';
import 'package:mad_flutter_practicum/domain/datasource/rest_datasource.dart';
import 'package:mad_flutter_practicum/domain/repository/currency_repository.dart';
import 'package:mad_flutter_practicum/domain/repository/news_repository.dart';
import 'package:provider/provider.dart';

Future<void> main() async {
  await initializeDateFormatting(AppConstants.ruLocale, null);

  final restDatasource = RestDatasourceImpl();

  runApp(
    GlobalProviders(
      restDatasource: restDatasource,
      child: const App(),
    ),
  );
}

class GlobalProviders extends StatelessWidget {
  const GlobalProviders({super.key, required this.restDatasource, required this.child});

  final RestDatasource restDatasource;
  final Widget child;

  @override
  Widget build(BuildContext context) {
    return MultiProvider(
      providers: [
        Provider<CurrencyRepository>(create: (_) => CurrencyRepositoryImpl(restDatasource)),
        Provider<NewsRepository>(create: (_) => NewsRepositoryImpl(restDatasource)),
      ],
      child: child,
    );
  }
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –≤–∞–ª—é—Ç

–ö–∞—Ä—Ç–æ—á–∫–∏ –≤–∞–ª—é—Ç –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –∏–º —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `CurrencyModel`, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```dart
import 'package:flutter/material.dart';
import 'package:mad_flutter_practicum/app/currency_detail/currency_detail_page.dart';
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';

enum PriceChange {
  up,
  down,
  stable;
}

class CurrencyCard extends StatelessWidget {
  const CurrencyCard({super.key, required this.model});

  final CurrencyModel model;

  @override
  Widget build(BuildContext context) {
    final PriceChange priceChange = model.asPriceChange;

    return GestureDetector(
      onTap: () {
        Navigator.push(
          context,
          MaterialPageRoute(builder: (_) => CurrencyDetailPage(title: model.name)),
        );
      },
      child: Container(
        padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 8),
        decoration: BoxDecoration(
          color: Colors.white,
          borderRadius: BorderRadius.circular(12),
        ),
        child: Row(
          children: [
            CurrencyIcon(title: model.symbol),
            Expanded(
              child: Padding(
                padding: const EdgeInsets.symmetric(horizontal: 6),
                child: Text(
                  model.name,
                  style: TextStyle(
                    fontFamily: 'Inter',
                    fontSize: 12,
                    fontWeight: FontWeight.w700,
                    color: Colors.black,
                  ),
                ),
              ),
            ),
            Text(
              model.value.toStringAsFixed(2),
              style: TextStyle(
                fontFamily: 'Inter',
                fontSize: 12,
                fontWeight: FontWeight.w700,
                color: switch (priceChange) {
                  PriceChange.up => const Color(0xFF1FD522),
                  PriceChange.down => const Color(0xFFFF0000),
                  PriceChange.stable => const Color(0xFF7C7B7B),
                },
              ),
            ),
            Padding(
              padding: const EdgeInsets.only(left: 4, right: 6),
              child: Text(
                '(${model.nominal} —à—Ç.)',
                style: TextStyle(
                  fontFamily: 'Inter',
                  fontSize: 12,
                  fontWeight: FontWeight.w500,
                ),
              ),
            ),
            Image.asset(
              switch (priceChange) {
                PriceChange.up => 'assets/icons/arrow_up.png',
                PriceChange.down => 'assets/icons/arrow_down.png',
                PriceChange.stable => 'assets/icons/arrow_up.png',
              },
              width: 10,
              height: 10,
            ),
          ],
        ),
      ),
    );
  }
}

class CurrencyIcon extends StatelessWidget {
  const CurrencyIcon({super.key, required this.title});

  final String title;

  @override
  Widget build(BuildContext context) {
    return Container(
      constraints: BoxConstraints.tight(Size.square(40)),
      decoration: BoxDecoration(
        color: Theme.of(context).primaryColor,
        shape: BoxShape.circle,
      ),
      child: Center(
        child: Text(
          title,
          style: TextStyle(
            fontFamily: 'InterTight',
            fontSize: 12,
            fontWeight: FontWeight.w700,
            color: Colors.white,
          ),
        ),
      ),
    );
  }
}

extension on CurrencyModel {
  PriceChange get asPriceChange {
    if (value > previousValue) return PriceChange.up;
    if (value < previousValue) return PriceChange.down;

    return PriceChange.stable;
  }
}
```

–¢–µ–ø–µ—Ä—å –∫–∞—Ä—Ç–æ—á–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç, –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –ø–æ–º–æ—â—å—é `FutureBuilder`. –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–∏–º –ø–æ–∏—Å–∫ –≤–∞–ª—é—Ç —Å –ø–æ–º–æ—â—å—é `SearchView`.

```dart
import 'package:flutter/material.dart';
import 'package:mad_flutter_practicum/app/currency_list/widgets/currency_card.dart';
import 'package:mad_flutter_practicum/app/currency_list/widgets/search_view.dart';
import 'package:mad_flutter_practicum/domain/model/currency_model.dart';
import 'package:mad_flutter_practicum/domain/repository/currency_repository.dart';
import 'package:provider/provider.dart';

class CurrencyListPage extends StatefulWidget {
  const CurrencyListPage({super.key});

  @override
  State<CurrencyListPage> createState() => _CurrencyListPageState();
}

class _CurrencyListPageState extends State<CurrencyListPage> {
  late final ValueNotifier<List<CurrencyModel>> _filteredCurrencies;

  late Future<List<CurrencyModel>> _currencyListFuture;

  List<CurrencyModel> _allCurrencies = [];

  @override
  void initState() {
    super.initState();
    _initData();
  }

  @override
  void dispose() {
    _filteredCurrencies.dispose();
    super.dispose();
  }

  void _initData() {
    _currencyListFuture = context.read<CurrencyRepository>().getCurrencyList().then((List<CurrencyModel> value) {
      _allCurrencies = value;
      _filteredCurrencies = ValueNotifier(value);

      return value;
    });
  }

  void _filterCurrencies(String query) {
    final String lowerQuery = query.toLowerCase();
    final Iterable<CurrencyModel> result = _allCurrencies.where((CurrencyModel currency) {
      return currency.name.toLowerCase().contains(lowerQuery) || currency.symbol.toLowerCase().contains(lowerQuery);
    });

    _filteredCurrencies.value = result.toList(growable: false);
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('–ö—É—Ä—Å –í–∞–ª—é—Ç'),
        surfaceTintColor: Colors.transparent,
      ),
      body: FutureBuilder(
        future: _currencyListFuture,
        builder: (BuildContext context, AsyncSnapshot<List<CurrencyModel>> snapshot) {
          final List<CurrencyModel>? data = snapshot.data;
          if (data == null) return const SizedBox.shrink();

          return Column(
            children: [
              Padding(
                padding: const EdgeInsets.symmetric(vertical: 10, horizontal: 22),
                child: SearchView(onChanged: _filterCurrencies),
              ),
              Expanded(
                child: ValueListenableBuilder<List<CurrencyModel>>(
                  valueListenable: _filteredCurrencies,
                  builder: (BuildContext context, List<CurrencyModel> data, _) {
                    return ListView.builder(
                      itemCount: data.length,
                      itemBuilder: (BuildContext context, int index) {
                        final CurrencyModel currency = data[index];

                        return Padding(
                          key: ValueKey(currency.id),
                          padding: index == 0 ? const EdgeInsets.only(top: 20) : const EdgeInsets.only(top: 10),
                          child: CurrencyCard(model: currency),
                        );
                      },
                      padding: const EdgeInsets.fromLTRB(22, 0, 22, 40),
                    );
                  }
                ),
              ),
            ],
          );
        },
      ),
    );
  }
}
```
–ü–æ—Å–ª–µ –≤–Ω–µ—Å—ë–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, —ç–∫—Ä–∞–Ω —Å–æ —Å–ø–∏—Å–∫–æ–º –≤–∞–ª—é—Ç –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

<img src="images/currecncy_list_page.png" alt="Currency List Page" width="375"/>

–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –ø–æ–∏—Å–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ValueNotifier` (–≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å state manager, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –õ–† —Å–æ–≥–ª–∞—Å–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –≤–∞—Ä–∏–∞–Ω—Ç—É), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞—Ç—å –≤–µ—Å—å –≤–∏–¥–∂–µ—Ç.

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –ø–æ–∏—Å–∫–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SearchView`, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ, —Ç–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–ª–±—ç–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ ‚Äî —ç—Ç–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é —Å–ø–∏—Å–∫–∞.

```dart
class SearchView extends StatelessWidget {
  const SearchView({super.key, required this.onChanged});

  final ValueChanged<String> onChanged;

  @override
  Widget build(BuildContext context) {
    return TextField(
      onChanged: onChanged,
      ...
    );
  }
}
```

–ü—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ —Å–ø–∏—Å–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ —Å–∏–º–≤–æ–ª—É –≤–∞–ª—é—Ç—ã:

<img src="images/filtered_currency_list_page.png" alt="Filtered Currency List Page" width="375"/>

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∏ –∫–∞—Ä—Ç–æ—á–µ–∫

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —ç–∫—Ä–∞–Ω—É —Å –≤–∞–ª—é—Ç–∞–º–∏, –ø–æ–¥–∫–ª—é—á–∏–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–µ–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –û–±–Ω–æ–≤–∏–º –∫–∞—Ä—Ç–æ—á–∫—É –Ω–æ–≤–æ—Å—Ç–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫, –¥–∞—Ç—É –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å. –†–∞–Ω–µ–µ –Ω–∞ —ç—Ç–æ–º –º–µ—Å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.

```dart
import 'package:flutter/material.dart';
import 'package:intl/intl.dart';
import 'package:mad_flutter_practicum/app/constants.dart';
import 'package:mad_flutter_practicum/app/utils/url_launcher.dart';
import 'package:mad_flutter_practicum/domain/model/news_model.dart';

class NewsCard extends StatelessWidget {
  const NewsCard({super.key, required this.model});

  final NewsModel model;

  static const String _resource = 'cbr.ru';

  @override
  Widget build(BuildContext context) {
    final DateTime? date = model.date;

    return GestureDetector(
      onTap: () => tryLaunchUrl(model.link),
      child: Container(
        padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 18),
        decoration: BoxDecoration(
          color: Colors.white,
          borderRadius: BorderRadius.circular(12),
        ),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              model.title,
              style: TextStyle(
                fontFamily: 'Inter',
                fontSize: 12,
                fontWeight: FontWeight.w700,
                color: Colors.black,
              ),
            ),
            Padding(
              padding: const EdgeInsets.only(top: 6),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.spaceBetween,
                children: [
                  if (date != null)
                    Text(
                      DateFormat(AppConstants.newsDateTimeFormat, AppConstants.ruLocale).format(date),
                      style: TextStyle(
                        fontFamily: 'Inter',
                        fontSize: 12,
                        fontWeight: FontWeight.w400,
                        color: Color(0xFF505050),
                      ),
                    ),
                  Text(
                    _resource,
                    style: TextStyle(
                      fontFamily: 'Inter',
                      fontSize: 12,
                      fontWeight: FontWeight.w400,
                      color: Color(0xFF505050),
                    ),
                  ),
                ],
              ),
            )
          ],
        ),
      ),
    );
  }
}
```

–ù–æ–≤–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –≥–¥–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `FutureBuilder`. –ö–∞–∂–¥–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∫–ª—é—á–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Å—ã–ª–∫–∏.

```dart
import 'package:flutter/material.dart';
import 'package:mad_flutter_practicum/app/news_list/widgets/news_card.dart';
import 'package:mad_flutter_practicum/domain/model/news_model.dart';
import 'package:mad_flutter_practicum/domain/repository/news_repository.dart';
import 'package:provider/provider.dart';

class NewsListPage extends StatefulWidget {
  const NewsListPage({super.key});

  @override
  State<NewsListPage> createState() => _NewsListPageState();
}

class _NewsListPageState extends State<NewsListPage> {
  late Future<List<NewsModel>> _newsListFuture;

  @override
  void initState() {
    super.initState();
    _newsListFuture = context.read<NewsRepository>().getNewsList();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('–ù–æ–≤–æ—Å—Ç–∏'),
        surfaceTintColor: Colors.transparent,
      ),
      body: FutureBuilder<List<NewsModel>>(
        future: _newsListFuture,
        builder: (BuildContext context, AsyncSnapshot<List<NewsModel>> snapshot) {
          final List<NewsModel>? data = snapshot.data;
          if (data == null) return const SizedBox.shrink();

          return ListView.builder(
            itemCount: data.length,
            itemBuilder: (BuildContext context, int index) {
              final NewsModel news = data[index];

              return Padding(
                key: ValueKey(news.link),
                padding: index == 0 ? EdgeInsets.zero : const EdgeInsets.only(top: 16),
                child: NewsCard(model: news),
              );
            },
            padding: const EdgeInsets.fromLTRB(22, 16, 22, 40),
          );
        },
      ),
    );
  }
}
```

–≠–∫—Ä–∞–Ω –Ω–æ–≤–æ—Å—Ç–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –¥–∞—Ç—É –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ü—Ä–∏–º–µ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ —ç–∫—Ä–∞–Ω–∞ –Ω–æ–≤–æ—Å—Ç–µ–π:

<img src="images/news_list_page.png" alt="News List Page" width="375"/>

–ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥ –≤–æ –≤–Ω–µ—à–Ω–∏–π –±—Ä–∞—É–∑–µ—Ä –Ω–∞ —Å–∞–π—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞:

<img src="images/news_page.png" alt="News Page" width="375"/>

## 4. –°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å

> –ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∑–∞–¥–∞–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å —Ü–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –∏ –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫—É—é –æ—Ü–µ–Ω–∫—É.

### –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –æ—Ü–µ–Ω–∫—É "3"

- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
- –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ (`CircularProgressIndicator`) –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –≤–∞–ª—é—Ç;
- –î–æ–±–∞–≤—å—Ç–µ `pull-to-refresh` –Ω–∞ —ç–∫—Ä–∞–Ω—ã —Å–ø–∏—Å–∫–∞ –≤–∞–ª—é—Ç –∏ –Ω–æ–≤–æ—Å—Ç–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `RefreshIndicator`.
- –†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞). –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –≤–∏–¥–∂–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ –∏ –∫–Ω–æ–ø–∫–æ–π "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É", –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—á–µ—Ä–µ–¥–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

### –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –æ—Ü–µ–Ω–∫—É "4"

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

- –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–∫–µ—Ç `connectivity_plus`.

### –ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –æ—Ü–µ–Ω–∫—É "5"

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

- –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –¥–∏–Ω–∞–º–∏–∫–∏ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.
- –ó–∞–º–µ–Ω–∏—Ç–µ –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ, –ø–æ–ª—É—á–∞–µ–º—ã–µ –ø–æ —Å–µ—Ç–∏.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ë–∞–Ω–∫–∞ –†–§

> –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫—É—Ä—Å–∞ –¥–æ–ª–ª–∞—Ä–∞ –Ω–∞ –º–µ—Å—è—Ü: https://www.cbr.ru/scripts/XML_dynamic.asp?date_req1=25/05/2025&date_req2=25/06/2025&VAL_NM_RQ=R01235

- –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ ‚Äî XML. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ XML –≤ Dart.
- –ù–∞ —ç–∫—Ä–∞–Ω–µ —Å–ª–µ–¥—É–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—É—Ä—Å –≤–∞–ª—é—Ç—ã –ø–æ –¥–∞—Ç–∞–º, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –≥—Ä–∞—Ñ–∏–∫–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏—é).

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API: [https://www.cbr.ru/development/sxml/](https://www.cbr.ru/development/sxml/)
